(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,n){e.exports=n(128)},109:function(e,t,n){},114:function(e,t,n){},117:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(81),c=n.n(o),i=n(88),l=n(14),u=n(21),s=n(3),h=n(15),f=n(182),m=n(183),d=n(184),p=n(176),v=n(181);n(109);function g(){g=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(S){i=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),c=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return N()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=w(c,n);if(i){if(i===s)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,c),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var s={};function h(){}function f(){}function m(){}var d={};i(d,a,function(){return this});var p=Object.getPrototypeOf,v=p&&p(p(L([])));v&&v!==t&&n.call(v,a)&&(d=v);var y=m.prototype=h.prototype=Object.create(d);function E(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(a,o){function c(){return new t(function(r,c){!function r(a,o,c,i){var l=u(e[a],e,o);if("throw"!==l.type){var s=l.arg,h=s.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then(function(e){r("next",e,c,i)},function(e){r("throw",e,c,i)}):t.resolve(h).then(function(e){s.value=e,c(s)},function(e){return r("throw",e,c,i)})}i(l.arg)}(a,o,r,c)})}return r=r?r.then(c,c):c()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return f.prototype=m,i(y,"constructor",m),i(m,"constructor",f),f.displayName=i(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},E(b.prototype),i(b.prototype,o,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var c=new b(l(t,n,r,a),o);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},E(y),i(y,c,"Generator"),i(y,a,function(){return this}),i(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}var y=function(e){var t=new h.a,n=Object(r.useState)(""),o=Object(s.a)(n,2),c=o[0],i=o[1],l=Object(r.useState)(""),y=Object(s.a)(l,2),E=y[0],b=y[1],w=Object(r.useState)(""),O=Object(s.a)(w,2),j=O[0],x=O[1],L=function(){var e=Object(u.a)(g().mark(function e(){var n,r,a,o;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(x(""),""!==c&&null!==c){e.next=4;break}return x("Invalid username"),e.abrupt("return");case 4:if(""!==E&&null!==E){e.next=7;break}return x("Invalid password"),e.abrupt("return");case 7:return n={username:c,password:E},e.next=10,fetch("".concat("http://localhost:8000","/auth/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)});case 10:return r=e.sent,e.next=13,r.json();case 13:"GOOD"===(a=e.sent).status?(o=a.content,fetch("".concat("http://localhost:8000","/auth/user/verifyAdmin"),{method:"GET",headers:{authorization:o}}).then(function(e){return e.json()}).then(function(e){"GOOD"===e.status?(t.set("token",o),"admin"===c&&"admin"===E?window.location.assign("/creds"):fetch("".concat("http://localhost:8001","/auth/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){console.log(e),t.set("read-token",e.content),window.location.assign("/dashboard")})):x(e.message)})):x(a.message);case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(function(){var e=t.get("token");e&&fetch("".concat("http://localhost:8000","/auth/user/verifyAdmin"),{method:"GET",headers:{authorization:e}}).then(function(e){return e.json()}).then(function(e){"GOOD"===e.status?window.location.assign("/dashboard"):(t.remove("token"),t.remove("read-token"))})},[]),a.a.createElement(f.a,{className:"login-wrapper"},a.a.createElement(m.a,{className:"flex-col-gap login",elevation:5},a.a.createElement(d.a,{variant:"h4"}," Login "),a.a.createElement(p.a,{autoComplete:"off",variant:"outlined",type:"text",label:"Username",value:c||"",onChange:function(e){return i(e.target.value)}}),a.a.createElement(p.a,{autoComplete:"off",variant:"outlined",type:"password",label:"Password",value:E||"",onChange:function(e){return b(e.target.value)}}),a.a.createElement(v.a,{size:"large",color:"primary",variant:"contained",onClick:L}," Login "),j&&a.a.createElement(d.a,{align:"center",variant:"h6",color:"red"}," ",j," ")))};n(114);function E(){E=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(S){i=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),c=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return N()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=w(c,n);if(i){if(i===s)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,c),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=l;var s={};function h(){}function f(){}function m(){}var d={};i(d,a,function(){return this});var p=Object.getPrototypeOf,v=p&&p(p(L([])));v&&v!==t&&n.call(v,a)&&(d=v);var g=m.prototype=h.prototype=Object.create(d);function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(a,o){function c(){return new t(function(r,c){!function r(a,o,c,i){var l=u(e[a],e,o);if("throw"!==l.type){var s=l.arg,h=s.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then(function(e){r("next",e,c,i)},function(e){r("throw",e,c,i)}):t.resolve(h).then(function(e){s.value=e,c(s)},function(e){return r("throw",e,c,i)})}i(l.arg)}(a,o,r,c)})}return r=r?r.then(c,c):c()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:N}}function N(){return{value:void 0,done:!0}}return f.prototype=m,i(g,"constructor",m),i(m,"constructor",f),f.displayName=i(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),i(b.prototype,o,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var c=new b(l(t,n,r,a),o);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(g),i(g,c,"Generator"),i(g,a,function(){return this}),i(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=L,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;j(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}var b=function(e){var t=new h.a,n=Object(r.useState)(""),o=Object(s.a)(n,2),c=o[0],i=o[1],l=Object(r.useState)(""),g=Object(s.a)(l,2),y=g[0],b=g[1],w=Object(r.useState)(""),O=Object(s.a)(w,2),j=O[0],x=O[1],L=function(){var e=Object(u.a)(E().mark(function e(){var n,r,a,o;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(x(""),""!==c&&null!==c){e.next=4;break}return x("Invalid username"),e.abrupt("return");case 4:if(""!==y&&null!==y){e.next=7;break}return x("Invalid password"),e.abrupt("return");case 7:return n=t.get("token"),r={username:c,password:y},e.next=11,fetch("".concat("http://localhost:8000","/admin/user/update"),{method:"PUT",headers:{"content-type":"application/json",authorization:n},body:JSON.stringify(r)});case 11:return a=e.sent,e.next=14,a.json();case 14:"GOOD"===(o=e.sent).status?(t.remove("token"),window.location.assign("/")):x(o.message);case 16:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(function(){null==t.get("token")&&window.location.assign("/")},[]),a.a.createElement(f.a,{className:"change-wrapper"},a.a.createElement(m.a,{elevation:6,className:"change shadow"},a.a.createElement(d.a,{color:"primary",variant:"h4"}," Admin Credentials "),a.a.createElement(p.a,{label:"Username",type:"text",value:c,onChange:function(e){return i(e.target.value)},variant:"outlined"}),a.a.createElement(p.a,{label:"Password",type:"password",value:y,onChange:function(e){return b(e.target.value)},variant:"outlined"}),a.a.createElement(v.a,{variant:"contained",onClick:L}," Change credentials "),j&&a.a.createElement(d.a,{color:"red"},j)))},w=n(172),O=n(87),j=n.n(O),x=n(175),L=n(196),N=n(189),S=n(190),k=n(191),_=n(192),G=n(193),C=n(194),T=n(30),D=function(e){try{var t=JSON.parse(e),n=t.schemaName,r=t.schema;if(!n)return{valid:!1,color:"red",info:"Invalid schema name"};if(!r)return{valid:!1,color:"red",info:"Invalid schema"};for(var a=Object.keys(r),o=!0,c=0;c<a.length;c++){var i=a[c];if(""===i||null===i)return{valid:!1,color:"red",info:"Schema contains invalid fields"};var l=r[i];"Boolean"!==l&&"Integer"!==l&&"String"!==l&&"Array"!==l&&(o=!1)}return o?{valid:!0,color:"green",info:"New schema created"}:{valid:!1,color:"red",info:"Schema contains invalid field types"}}catch(u){return{valid:!1,color:"red",info:"Invalid json"}}},P=n(59),F=n.n(P),I=n(41),z=n.n(I);n(117);function A(){A=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(N){i=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),c=new j(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return L()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=b(c,n);if(i){if(i===s)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,c),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var s={};function h(){}function f(){}function m(){}var d={};i(d,a,function(){return this});var p=Object.getPrototypeOf,v=p&&p(p(x([])));v&&v!==t&&n.call(v,a)&&(d=v);var g=m.prototype=h.prototype=Object.create(d);function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(a,o){function c(){return new t(function(r,c){!function r(a,o,c,i){var l=u(e[a],e,o);if("throw"!==l.type){var s=l.arg,h=s.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then(function(e){r("next",e,c,i)},function(e){r("throw",e,c,i)}):t.resolve(h).then(function(e){s.value=e,c(s)},function(e){return r("throw",e,c,i)})}i(l.arg)}(a,o,r,c)})}return r=r?r.then(c,c):c()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=m,i(g,"constructor",m),i(m,"constructor",f),f.displayName=i(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(E.prototype),i(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var c=new E(l(t,n,r,a),o);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(g),i(g,c,"Generator"),i(g,a,function(){return this}),i(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}var U=function(e){var t=new h.a,n=e.databaseName,o=Object(r.useState)(t.get("token")),c=Object(s.a)(o,1)[0],i=Object(r.useState)('{\n    "schemaName": "exampleSchema",\n    "schema": {\n        "fieldName":"fieldType"\n    }\n}'),l=Object(s.a)(i,2),p=l[0],g=l[1],y=Object(r.useState)(""),E=Object(s.a)(y,2),b=E[0],O=E[1],j=Object(r.useState)(""),x=Object(s.a)(j,2),L=x[0],P=x[1],I=function(){var e=Object(u.a)(A().mark(function e(){var t,r,a,o,i;return A().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(O(""),P(""),!(t=D(p)).valid){e.next=15;break}return e.next=6,fetch("".concat("http://localhost:8000","/write/").concat(n,"/schema/new"),{method:"POST",headers:{"content-type":"application/json",authorization:c},body:p});case 6:return r=e.sent,e.next=9,r.json();case 9:a=e.sent,o=a.status,i=a.message,console.log(a),"GOOD"===o?window.location.reload():(P("red"),O(i)),e.next=17;break;case 15:O(t.info),P(t.color);case 17:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(f.a,{className:"create-schema-wrapper"},a.a.createElement(m.a,{elevation:6,className:"create-schema"},a.a.createElement(f.a,{className:"creation-tut"},a.a.createElement(d.a,{color:"primary",variant:"h4"}," ",a.a.createElement(F.a,null)," Create a new Schema "),a.a.createElement(w.a,null),a.a.createElement(f.a,{className:"schema-tutorial"},a.a.createElement(d.a,{variant:"h5"}," This is a simple guide to create a new schema successfully."),a.a.createElement(d.a,{variant:"h6"},"There is 2 things that you need to deliver:"),a.a.createElement(d.a,{variant:"h6"},'1. property "schemaName", the schema\'s name.'),a.a.createElement(d.a,{variant:"h6"},'2. property "schema", the schema itself.'),a.a.createElement(w.a,null),a.a.createElement(d.a,{variant:"h6"},"The schema property should have all fields, do not add an id property, this will be handled by the database server.")),a.a.createElement(N.a,{component:m.a},a.a.createElement(S.a,null,a.a.createElement(k.a,null,a.a.createElement(_.a,null,a.a.createElement(G.a,{align:"center"}," Data Type "),a.a.createElement(G.a,{align:"center"}," Value in Schema "),a.a.createElement(G.a,{align:"center"}," Example Data "))),a.a.createElement(C.a,null,a.a.createElement(_.a,null,a.a.createElement(G.a,{align:"center"}," Yes/No "),a.a.createElement(G.a,{align:"center"}," Boolean "),a.a.createElement(G.a,{align:"center"}," true, false ")),a.a.createElement(_.a,null,a.a.createElement(G.a,{align:"center"}," Numbers "),a.a.createElement(G.a,{align:"center"}," Integer "),a.a.createElement(G.a,{align:"center"}," 1,2,3... ")),a.a.createElement(_.a,null,a.a.createElement(G.a,{align:"center"}," Text "),a.a.createElement(G.a,{align:"center"}," String "),a.a.createElement(G.a,{align:"center"},' "Hello, World!" ')),a.a.createElement(_.a,null,a.a.createElement(G.a,{align:"center"}," lists "),a.a.createElement(G.a,{align:"center"}," Array "),a.a.createElement(G.a,{align:"center"},' [1,2, "Hello", true] '))))),a.a.createElement(w.a,null),a.a.createElement(f.a,{className:"create-schema-controls"},a.a.createElement(v.a,{variant:"contained",onClick:I}," Create Schema "),b&&a.a.createElement(d.a,{variant:"h6",color:L,className:"flex-row-gap align-center padding"}," ",a.a.createElement(z.a,null)," ",b," "))),a.a.createElement(f.a,{className:"create-schema-editor"},a.a.createElement(T.a,{height:"100%",width:"100%",language:"json",defaultValue:p,onChange:function(e){return g(e)}}))))},R=(n(118),n(188)),Y=n(195),J=n(187),B=n(177),V=n(173),q=n(178);n(119);function H(){H=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(N){i=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),c=new j(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return L()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=b(c,n);if(i){if(i===s)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,c),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var s={};function h(){}function f(){}function m(){}var d={};i(d,a,function(){return this});var p=Object.getPrototypeOf,v=p&&p(p(x([])));v&&v!==t&&n.call(v,a)&&(d=v);var g=m.prototype=h.prototype=Object.create(d);function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(a,o){function c(){return new t(function(r,c){!function r(a,o,c,i){var l=u(e[a],e,o);if("throw"!==l.type){var s=l.arg,h=s.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then(function(e){r("next",e,c,i)},function(e){r("throw",e,c,i)}):t.resolve(h).then(function(e){s.value=e,c(s)},function(e){return r("throw",e,c,i)})}i(l.arg)}(a,o,r,c)})}return r=r?r.then(c,c):c()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=m,i(g,"constructor",m),i(m,"constructor",f),f.displayName=i(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(E.prototype),i(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var c=new E(l(t,n,r,a),o);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(g),i(g,c,"Generator"),i(g,a,function(){return this}),i(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}var W=function(e){var t=(new h.a).get("token"),n=e.schemaName,o=e.databaseName,c=Object(r.useState)("{\n}"),i=Object(s.a)(c,2),l=i[0],p=i[1],g=Object(r.useState)(""),y=Object(s.a)(g,2),E=y[0],b=y[1],w=Object(r.useState)(""),O=Object(s.a)(w,2),j=O[0],x=O[1],L=function(){var e=Object(u.a)(H().mark(function e(){var r,a,c,i;return H().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:8000","/write/").concat(o,"/").concat(n,"/document/new"),{method:"POST",headers:{"content-type":"application/json",authorization:t},body:l});case 2:return r=e.sent,e.next=5,r.json();case 5:a=e.sent,c=a.status,i=a.message,"GOOD"===c?(b(i),x("green")):(b(i),x("red"));case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(m.a,{elevation:6,className:"padding",sx:{overflow:"hidden"}},a.a.createElement(f.a,{className:"flex-row-gap create"},a.a.createElement(f.a,{className:"flex-col-gap"},a.a.createElement(d.a,{variant:"h4",color:"primary"},' Create a document for schema: "',n,'"'),a.a.createElement(d.a,{variant:"h6"},"Please keep in mind that the document will be validated against the schema."),a.a.createElement(f.a,null,a.a.createElement(v.a,{variant:"contained",onClick:L}," Create new Document ")),E&&a.a.createElement(d.a,{color:j,variant:"h6"},E)),a.a.createElement(f.a,{className:"editor"},a.a.createElement(T.a,{height:"45rem",width:"100%",language:"json",defaultValue:l,onChange:function(e){return p(e)}}))))};n(120);function M(){M=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(N){i=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),c=new j(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return L()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=b(c,n);if(i){if(i===s)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,c),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var s={};function h(){}function f(){}function m(){}var d={};i(d,a,function(){return this});var p=Object.getPrototypeOf,v=p&&p(p(x([])));v&&v!==t&&n.call(v,a)&&(d=v);var g=m.prototype=h.prototype=Object.create(d);function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(a,o){function c(){return new t(function(r,c){!function r(a,o,c,i){var l=u(e[a],e,o);if("throw"!==l.type){var s=l.arg,h=s.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then(function(e){r("next",e,c,i)},function(e){r("throw",e,c,i)}):t.resolve(h).then(function(e){s.value=e,c(s)},function(e){return r("throw",e,c,i)})}i(l.arg)}(a,o,r,c)})}return r=r?r.then(c,c):c()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=m,i(g,"constructor",m),i(m,"constructor",f),f.displayName=i(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(E.prototype),i(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var c=new E(l(t,n,r,a),o);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(g),i(g,c,"Generator"),i(g,a,function(){return this}),i(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}var Z=function(e){var t=new h.a,n=Object(r.useState)(e.databaseName),o=Object(s.a)(n,1)[0],c=Object(r.useState)(e.schemaName),i=Object(s.a)(c,1)[0],l=Object(r.useState)("[\n]"),g=Object(s.a)(l,2),y=g[0],E=g[1],b=Object(r.useState)(""),w=Object(s.a)(b,2),O=w[0],j=w[1],x=function(){var e=Object(u.a)(M().mark(function e(){var n,r,a;return M().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(O){e.next=2;break}return e.abrupt("return");case 2:if(n=t.get("read-token")){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,fetch("".concat("http://localhost:8001","/read/").concat(o,"/").concat(i,"/indexed?fieldName=").concat(O),{method:"GET",headers:{authorization:n}});case 7:return r=e.sent,e.next=10,r.json();case 10:a=e.sent,E(JSON.stringify(a.content,null,2));case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(f.a,{className:"index-wrapper"},a.a.createElement(m.a,{className:"index-controls flex-row-gap"},a.a.createElement(d.a,{variant:"h4",color:"primary"},"Index"),a.a.createElement(p.a,{autoComplete:"off",label:"Field name",size:"small",value:O,onChange:function(e){return j(e.target.value)}}),a.a.createElement(v.a,{variant:"contained",onClick:x}," Fetch Indexed documents ")),a.a.createElement(f.a,{className:"editor"},a.a.createElement(T.a,{height:"42rem",width:"100%",language:"json",value:y,onChange:function(e){return E(e)}})))};n(121);function Q(){Q=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(N){i=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),c=new j(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return L()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=b(c,n);if(i){if(i===s)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,c),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var s={};function h(){}function f(){}function m(){}var d={};i(d,a,function(){return this});var p=Object.getPrototypeOf,v=p&&p(p(x([])));v&&v!==t&&n.call(v,a)&&(d=v);var g=m.prototype=h.prototype=Object.create(d);function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(a,o){function c(){return new t(function(r,c){!function r(a,o,c,i){var l=u(e[a],e,o);if("throw"!==l.type){var s=l.arg,h=s.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then(function(e){r("next",e,c,i)},function(e){r("throw",e,c,i)}):t.resolve(h).then(function(e){s.value=e,c(s)},function(e){return r("throw",e,c,i)})}i(l.arg)}(a,o,r,c)})}return r=r?r.then(c,c):c()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=m,i(g,"constructor",m),i(m,"constructor",f),f.displayName=i(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(E.prototype),i(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var c=new E(l(t,n,r,a),o);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(g),i(g,c,"Generator"),i(g,a,function(){return this}),i(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}var K=function(e){var t=new h.a,n=Object(r.useState)(t.get("token")),o=Object(s.a)(n,1)[0],c=Object(r.useState)(e.databaseName),i=Object(s.a)(c,1)[0],l=Object(r.useState)(e.schemaName),p=Object(s.a)(l,1)[0],g=Object(r.useState)(JSON.stringify(e.fullDocument,null,2)),y=Object(s.a)(g,2),E=y[0],b=y[1],w=Object(r.useState)(e.fullDocument._id),O=Object(s.a)(w,1)[0],j=Object(r.useState)(""),x=Object(s.a)(j,2),L=x[0],N=x[1],S=Object(r.useState)(""),k=Object(s.a)(S,2),_=k[0],G=k[1],C=function(){var e=Object(u.a)(Q().mark(function e(){var t,n,r;return Q().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return G(""),N(""),e.next=4,fetch("".concat("http://localhost:8000","/update/").concat(i,"/").concat(p,"/document?documentId=").concat(O),{method:"PUT",headers:{"content-type":"application/json",authorization:o},body:E});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,r=n.message,"GOOD"===n.status?(G(r),N("green")):(G(r),N("red"));case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(u.a)(Q().mark(function e(){var t,n,r;return Q().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return G(""),N(""),e.next=4,fetch("".concat("http://localhost:8000","/delete/").concat(i,"/").concat(p,"/document?documentId=").concat(O),{method:"DELETE",headers:{"content-type":"application/json",authorization:o}});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,r=n.message,"GOOD"===n.status?(G(r),N("green")):(G(r),N("red")),b(null);case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return a.a.createElement(a.a.Fragment,null,!E&&a.a.createElement(a.a.Fragment,null),E&&a.a.createElement(m.a,{className:"full-document padding"},a.a.createElement(f.a,{className:"data"},a.a.createElement(T.a,{options:{minimap:{enabled:!1},scrollbar:{enabled:!1},scrollBeyondLastLine:{enabled:!1}},height:"15rem",width:"100%",language:"json",defaultValue:E,onChange:function(e){return b(e)}})),a.a.createElement(f.a,{className:"document-operations"},a.a.createElement(f.a,{className:"flex-row-gap"},a.a.createElement(v.a,{variant:"contained",color:"warning",onClick:C}," Update document "),a.a.createElement(v.a,{variant:"contained",color:"error",onClick:D}," Delete document ")),_&&a.a.createElement(d.a,{color:L,className:"flex-row-gap align-center"}," ",a.a.createElement(z.a,null)," ",_," ")))," ")},X=function(e){var t=e.databaseName,n=e.schema,o=e.schemaName,c=new h.a,i=Object(r.useState)("details"),l=Object(s.a)(i,2),u=l[0],g=l[1],y=Object(r.useState)("{}"),E=Object(s.a)(y,2),b=E[0],O=E[1],j=Object(r.useState)(""),x=Object(s.a)(j,2),L=x[0],D=x[1],P=Object(r.useState)(""),F=Object(s.a)(P,2),I=F[0],z=F[1],A=Object(r.useState)(""),U=Object(s.a)(A,2),H=U[0],M=U[1],Q=Object(r.useState)(""),X=Object(s.a)(Q,2),$=X[0],ee=X[1],te=Object(r.useState)(""),ne=Object(s.a)(te,2),re=ne[0],ae=ne[1],oe=Object(r.useState)(""),ce=Object(s.a)(oe,2),ie=ce[0],le=ce[1],ue=Object(r.useState)([]),se=Object(s.a)(ue,2),he=se[0],fe=se[1],me=Object(r.useState)([]),de=Object(s.a)(me,2),pe=de[0],ve=de[1],ge=Object(r.useState)("default"),ye=Object(s.a)(ge,2),Ee=ye[0],be=ye[1],we=Object(r.useState)(""),Oe=Object(s.a)(we,2),je=Oe[0],xe=Oe[1],Le=Object(r.useState)("equals"),Ne=Object(s.a)(Le,2),Se=Ne[0],ke=Ne[1],_e=Object(r.useState)(""),Ge=Object(s.a)(_e,2),Ce=Ge[0],Te=Ge[1],De=function(){if(t&&o){var e=c.get("read-token");fetch("".concat("http://localhost:8001","/read/").concat(t,"/").concat(o,"/document/all"),{method:"GET",headers:{authorization:e}}).then(function(e){return e.json()}).then(function(e){"GOOD"===e.status?fe(e.content):console.log(e.message)})}};return Object(r.useEffect)(function(){"documents"===u&&De()},[u]),Object(r.useEffect)(function(){De(),g("details")},[o]),a.a.createElement(f.a,{className:"schema-details"},a.a.createElement(f.a,{className:"schema-interaction-controls",sx:{borderRight:1,borderColor:"divider"}},a.a.createElement(d.a,{className:"connected-to",color:"primary",variant:"h4",sx:{borderBottom:1,borderColor:"divider"}},"Connected To ",o),a.a.createElement(R.a,null,a.a.createElement(Y.a,{onClick:function(e){return g("details")}},a.a.createElement(d.a,{color:"primary",variant:"h6"}," Schema details ")),a.a.createElement(w.a,null),a.a.createElement(Y.a,{onClick:function(e){return g("documents")}},a.a.createElement(d.a,{color:"primary",variant:"h6"}," Documents ")),a.a.createElement(w.a,null),a.a.createElement(Y.a,{onClick:function(e){return g("create")}},a.a.createElement(d.a,{color:"primary",variant:"h6"}," Create new document ")),a.a.createElement(w.a,null),a.a.createElement(Y.a,{onClick:function(e){return g("indexes")}},a.a.createElement(d.a,{color:"primary",variant:"h6"}," Indexes ")))),a.a.createElement(f.a,{className:"schema-view-details"},"details"===u&&a.a.createElement(f.a,{className:"section part flex-col-gap"},a.a.createElement(m.a,{elevation:6,className:"flex-col-gap part"},a.a.createElement(d.a,{variant:"h4",color:"primary"}," Schema's Fields "),a.a.createElement(f.a,{className:"small-width"},a.a.createElement(N.a,{component:m.a},a.a.createElement(S.a,null,a.a.createElement(k.a,null,a.a.createElement(_.a,null,a.a.createElement(G.a,{align:"center"},"Field name"),a.a.createElement(G.a,{align:"center"},"Field Type"))),a.a.createElement(C.a,null,n&&Object.keys(n).map(function(e,t){return a.a.createElement(_.a,{key:t},a.a.createElement(G.a,{align:"center"},e),a.a.createElement(G.a,{align:"center"},n[e]))})))))),a.a.createElement(m.a,{elevation:6,className:"flex-col-gap part"},a.a.createElement(d.a,{color:"darkorange",variant:"h4"}," Update schema "),a.a.createElement(d.a,{color:"darkorange",variant:"h6"},"Updates that happen on a schema are not inflicted on documents."),a.a.createElement(f.a,null,a.a.createElement(T.a,{className:"min-height",height:"25rem",width:"100%",language:"json",value:b,onChange:function(e){return O(e)}})),a.a.createElement("div",{className:"flex-row-gap align-center"},a.a.createElement(v.a,{color:"warning",variant:"contained",onClick:function(){var e=c.get("token");fetch("".concat("http://localhost:8000","/update/").concat(t,"/schema?schemaName=").concat(o),{method:"PUT",headers:{"content-type":"application/json",authorization:e},body:b}).then(function(e){return e.json()}).then(function(e){"GOOD"===e.status?(z("green"),D(e.message),setTimeout(function(){window.location.reload()},800)):(z("red"),D(e.message))})}}," Update schema "),L&&a.a.createElement(d.a,{variant:"h6",color:I}," ",L," "))),a.a.createElement(m.a,{elevation:6,className:"flex-col-gap part"},a.a.createElement(d.a,{color:"error",variant:"h4"}," Danger Zone "),a.a.createElement(d.a,{color:"error",variant:"h6"},"Delete all documents"),a.a.createElement("div",{className:"flex-row-gap align-center"},a.a.createElement(v.a,{color:"error",variant:"contained",onClick:function(){var e=c.get("token");fetch("".concat("http://localhost:8000","/delete/").concat(t,"/").concat(o,"/document/all"),{method:"DELETE",headers:{authorization:e}}).then(function(e){return e.json()}).then(function(e){"GOOD"===e.status?(fe([]),ve([]),ae(e.message),le("green")):(ae(e.message),le("red"))})}}," Delete all documents "),re&&a.a.createElement(d.a,{variant:"h6",color:ie}," ",re," ")),a.a.createElement(d.a,{color:"error",variant:"h6"},"Deleting the schema will also delete all its documents."),a.a.createElement("div",{className:"flex-row-gap align-center"},a.a.createElement(v.a,{color:"error",variant:"contained",onClick:function(){var e=c.get("token");fetch("".concat("http://localhost:8000","/delete/").concat(t,"/schema?schemaName=").concat(o),{method:"DELETE",headers:{authorization:e}}).then(function(e){return e.json()}).then(function(e){"GOOD"===e.status?(M(e.message),ee("green"),setTimeout(function(){window.location.reload()},800)):(M(e.message),ee("red"))})}}," Delete Schema "),H&&a.a.createElement(d.a,{variant:"h6",color:$}," ",H," ")))),"documents"===u&&a.a.createElement(f.a,{className:"section flex-col-gap"},a.a.createElement(m.a,{className:"flex-row-gap padding align-center"},a.a.createElement(d.a,{color:"primary",variant:"h6"},"Filter"),a.a.createElement(f.a,{className:"padding filter-inputs flex-row-gap"},a.a.createElement(p.a,{autoComplete:"off",size:"small",variant:"outlined",label:"Field Name",value:je,onChange:function(e){xe(e.target.value)}}),a.a.createElement(J.a,{sx:{minWidth:220},size:"small"},a.a.createElement(B.a,{id:"select-small"},"Operation"),a.a.createElement(V.a,{labelId:"select-small",id:"select-small",label:"Operation",value:Se,onChange:function(e){return ke(e.target.value)},color:"primary"},a.a.createElement(q.a,{value:"equals"}," == "),a.a.createElement(q.a,{value:"notEquals"}," != "))),a.a.createElement(p.a,{autoComplete:"off",size:"small",variant:"outlined",label:"Compare To",value:Ce,onChange:function(e){Te(e.target.value)}})),a.a.createElement(f.a,{className:"flex-row-gap"},a.a.createElement(v.a,{variant:"contained",color:"success",onClick:function(){ve([]),be("filtered");var e=c.get("read-token");fetch("".concat("http://localhost:8001","/read/").concat(t,"/").concat(o,"/filter?fieldName=").concat(je,"&op=").concat(Se,"&compareTo=").concat(Ce),{method:"GET",headers:{authorization:e}}).then(function(e){return e.json()}).then(function(e){console.log(e),"GOOD"===e.status&&ve(e.content)})}}," Filter "),a.a.createElement(v.a,{variant:"contained",color:"success",onClick:function(){ve([]),be("default"),xe(""),Te("")}}," Refresh "))),a.a.createElement(f.a,{className:"all-documents flex-col-gap"},"default"===Ee&&he&&he.map(function(e,n){return a.a.createElement(K,{key:n,databaseName:t,schemaName:o,fullDocument:e})}),"filtered"===Ee&&pe&&pe.map(function(e,n){return a.a.createElement(K,{key:n,databaseName:t,schemaName:o,fullDocument:e})}))),"create"===u&&a.a.createElement(f.a,{className:"padding"},a.a.createElement(W,{schemaName:o,databaseName:t})),"indexes"===u&&a.a.createElement(f.a,{className:"padding"},a.a.createElement(Z,{schemaName:o,databaseName:t}))))},$=(n(122),function(e){var t=e.schemas,n=e.schemaNames,o=e.databaseName,c=Object(r.useState)(""),i=Object(s.a)(c,2),l=i[0],u=i[1],h=Object(r.useState)({}),m=Object(s.a)(h,2),d=m[0],p=m[1],g=Object(r.useState)(!1),y=Object(s.a)(g,2),E=y[0],b=y[1];return a.a.createElement(f.a,{className:"all-schemas"},a.a.createElement(f.a,{className:"schema-controls align-center",sx:{borderBottom:1,borderColor:"divider"}},a.a.createElement(F.a,{color:"primary"}),n&&n.map(function(e,n){return a.a.createElement(v.a,{key:n,value:e,size:"medium",onClick:function(e){return n=e.target.value,u(n),p(t[n]),void b(!0);var n}}," ",e," ")})),E&&a.a.createElement(X,{schemaName:l,schema:d,databaseName:o}))}),ee=function(e){var t=new h.a,n=e.databaseName,o=Object(r.useState)({}),c=Object(s.a)(o,2),i=c[0],l=c[1],u=Object(r.useState)([]),p=Object(s.a)(u,2),g=p[0],y=p[1],E=Object(r.useState)("database-info"),b=Object(s.a)(E,2),w=b[0],O=b[1];return Object(r.useEffect)(function(){O("database-info");var e=t.get("read-token");fetch("".concat("http://localhost:8001","/read/").concat(n,"/schema/all"),{method:"GET",headers:{authorization:e}}).then(function(e){return e.json()}).then(function(e){"GOOD"===e.status&&function(e){var t=[],n={};e.forEach(function(e){var r=e.schema,a=e.info;n[a.schema_name]=r,t.push(a.schema_name)}),y(t),l(n)}(e.content)})},[n]),a.a.createElement(f.a,{className:"db-information"},a.a.createElement(f.a,{className:"view-controls flex-row-gap align-center",sx:{borderBottom:1,borderColor:"divider"}},a.a.createElement(d.a,{color:"green",fontWeight:"bold"}," Connected To ",n," "),a.a.createElement(x.a,{value:w,onChange:function(e,t){O(t)},textColor:"primary",indicatorColor:"primary"},a.a.createElement(L.a,{value:"database-info",label:"Database Information"}),a.a.createElement(L.a,{value:"create-new-schema",label:"Create New Schema"}),a.a.createElement(L.a,{value:"schemas",label:"Schemas"}))),"database-info"===w&&a.a.createElement(f.a,{className:"flex-col-gap section"},a.a.createElement(f.a,{className:"padding section-col",component:m.a},a.a.createElement(d.a,{variant:"h4",color:"primary"}," Export Database Schema "),a.a.createElement(d.a,{variant:"h6"},"Exporting provides a json file that contains the database name, and the schemas which can be used again to import."),a.a.createElement(f.a,null,a.a.createElement(v.a,{variant:"contained",onClick:function(){var e={databaseName:n,schemas:i},t="data:text/json;chatset=utf-8,".concat(encodeURIComponent(JSON.stringify(e,null,2))),r=document.createElement("a");r.href=t,r.download="databaseSchema.json",r.click()}}," Export "))),a.a.createElement(f.a,{className:"padding section-col",component:m.a},a.a.createElement(d.a,{variant:"h4",color:"red"}," Danger Zone "),a.a.createElement(d.a,{variant:"h6",color:"red"},"Deleting a database deletes all its information including schemas, and the documents."),a.a.createElement(f.a,null,a.a.createElement(v.a,{variant:"contained",color:"error",onClick:function(){var e=t.get("token");fetch("".concat("http://localhost:8000","/admin/database/delete?databaseName=").concat(n),{method:"DELETE",headers:{authorization:e}}).then(function(e){return e.json()}).then(function(e){"GOOD"===e.status?window.location.reload():console.log(e.message)})}}," Delete Database ")))),"create-new-schema"===w&&a.a.createElement(U,{databaseName:n}),"schemas"===w&&a.a.createElement($,{schemas:i,schemaNames:g,databaseName:n}))};n(123);function te(){te=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(N){i=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),c=new j(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return L()}for(n.method=a,n.arg=o;;){var c=n.delegate;if(c){var i=b(c,n);if(i){if(i===s)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===s)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,c),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var s={};function h(){}function f(){}function m(){}var d={};i(d,a,function(){return this});var p=Object.getPrototypeOf,v=p&&p(p(x([])));v&&v!==t&&n.call(v,a)&&(d=v);var g=m.prototype=h.prototype=Object.create(d);function y(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function E(e,t){var r;this._invoke=function(a,o){function c(){return new t(function(r,c){!function r(a,o,c,i){var l=u(e[a],e,o);if("throw"!==l.type){var s=l.arg,h=s.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then(function(e){r("next",e,c,i)},function(e){r("throw",e,c,i)}):t.resolve(h).then(function(e){s.value=e,c(s)},function(e){return r("throw",e,c,i)})}i(l.arg)}(a,o,r,c)})}return r=r?r.then(c,c):c()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return f.prototype=m,i(g,"constructor",m),i(m,"constructor",f),f.displayName=i(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,i(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(E.prototype),i(E.prototype,o,function(){return this}),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var c=new E(l(t,n,r,a),o);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},y(g),i(g,c,"Generator"),i(g,a,function(){return this}),i(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return c.type="throw",c.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],c=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var i=n.call(o,"catchLoc"),l=n.call(o,"finallyLoc");if(i&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(i){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}var ne=function(e){var t=new h.a,n=Object(r.useState)(""),o=Object(s.a)(n,2),c=o[0],i=o[1],l=Object(r.useState)(""),f=Object(s.a)(l,2),g=f[0],y=f[1],E=Object(r.useState)(""),b=Object(s.a)(E,2),w=b[0],O=b[1],j=Object(r.useState)(""),x=Object(s.a)(j,2),L=x[0],N=x[1],S=Object(r.useState)(""),k=Object(s.a)(S,2),_=k[0],G=k[1],C=Object(r.useState)([]),T=Object(s.a)(C,2),P=T[0],F=T[1],I=function(){var e=Object(u.a)(te().mark(function e(){var n,r,a;return te().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(y(""),null!=c&&""!==c){e.next=4;break}return y("Database name cannot be null or empty"),e.abrupt("return");case 4:return n=t.get("token"),e.next=7,fetch("".concat("http://localhost:8000","/admin/database/new?databaseName=").concat(c),{method:"POST",headers:{authorization:n}});case 7:return r=e.sent,e.next=10,r.json();case 10:"GOOD"===(a=e.sent).status?window.location.reload():y(a.message);case 12:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(u.a)(te().mark(function e(){var n,r,a;return te().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.get("token"),e.next=3,fetch("".concat("http://localhost:8000","/admin/database/new?databaseName=").concat(_),{method:"POST",headers:{authorization:n}});case 3:return r=e.sent,e.next=6,r.json();case 6:"GOOD"===(a=e.sent).status?(P.forEach(function(e){fetch("".concat("http://localhost:8000","/write/").concat(_,"/schema/new"),{method:"POST",headers:{"content-type":"application/json",authorization:n},body:e}).then(function(e){return e.json()}).then(function(e){return console.log(e)})}),window.location.reload()):(O(a.message),N("red"));case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(function(){var e=t.get("token");e?fetch("".concat("http://localhost:8000","/auth/user/verifyAdmin"),{method:"GET",headers:{authorization:e}}).then(function(e){return e.json()}).then(function(e){"GOOD"!==e.status&&(t.remove("token"),window.location.assign("/"))}):window.location.assign("/")},[]),a.a.createElement(m.a,{elevation:6,className:"create-database flex-col-gap"},a.a.createElement(d.a,{color:"primary",variant:"h5"}," Create a new database "),a.a.createElement(p.a,{autoComplete:"off",size:"large",label:"Database Name",value:c||"",onChange:function(e){return i(e.target.value)}}),a.a.createElement(v.a,{variant:"contained",onClick:I}," Create Database "),g&&a.a.createElement(d.a,{variant:"h6",color:"red"}," ",g," "),a.a.createElement(d.a,{color:"primary",variant:"h5"}," Or import a database schema "),a.a.createElement(v.a,{variant:"outlined",component:"label"}," Upload Database Schema ",a.a.createElement("input",{type:"file",onChange:function(e){O(""),N(""),G(""),F([]);try{var t=new FileReader;t.readAsText(e.target.files[0],"UTF-8"),t.onload=function(e){var t=JSON.parse(e.target.result),n=t.databaseName,r=t.schemas;if(null===n||""===n)return O("database name cannot be null."),void N("red");if(null===r||r==={}||void 0===r)return O("database name cannot be null."),void N("red");for(var a=[],o=Object.keys(r),c=0;c<o.length;c++){var i=o[c],l=r[i];console.log(l);var u=JSON.stringify({schemaName:i,schema:l}),s=D(u);if(a.push(u),!s.valid)return O("Schema is invalid: ".concat(i)),void N("red")}O("Database schema is valid"),N("green"),G(n),F(a)}}catch(e){O("Invalid database schema"),N("red")}},hidden:!0})),w&&a.a.createElement(d.a,{variant:"h6",color:L}," ",w," "),a.a.createElement(v.a,{variant:"contained",onClick:z}," Create database from schema "))},re=function(e){var t=e.userData,n=new h.a,o=Object(r.useState)(n.get("token")),c=Object(s.a)(o,1)[0],i=Object(r.useState)(JSON.stringify(t,null,2)),l=Object(s.a)(i,2),u=l[0],p=l[1],g=Object(r.useState)(""),y=Object(s.a)(g,2),E=y[0],b=y[1],w=Object(r.useState)(""),O=Object(s.a)(w,2),j=O[0],x=O[1];return a.a.createElement(a.a.Fragment,null,!u&&a.a.createElement(a.a.Fragment,null),u&&a.a.createElement(m.a,{className:"full-document padding"},a.a.createElement(f.a,{className:"data"},a.a.createElement(T.a,{options:{minimap:{enabled:!1},scrollbar:!1,scrollBeyondLastLine:!1},height:"15rem",width:"100%",language:"json",defaultValue:u,onChange:function(e){return p(e)}})),a.a.createElement(f.a,{className:"document-operations"},a.a.createElement(f.a,{className:"flex-row-gap"},a.a.createElement(v.a,{variant:"contained",color:"error",onClick:function(){fetch("".concat("http://localhost:8000","/admin/user/delete"),{method:"DELETE",headers:{"content-type":"application/json",authorization:c},body:u}).then(function(e){return e.json()}).then(function(e){"GOOD"===e.status?(b(e.message),x("green"),setTimeout(function(){p(null)},750)):(b(e.message),x("red"))})}}," Delete User ")),E&&a.a.createElement(d.a,{color:j,className:"flex-row-gap align-center"}," ",a.a.createElement(z.a,null)," ",E," "))))},ae=(n(124),function(e){var t=new h.a,n=Object(r.useState)(t.get("token")),o=Object(s.a)(n,1)[0],c=Object(r.useState)("all-users"),i=Object(s.a)(c,2),l=i[0],u=i[1],m=Object(r.useState)([]),g=Object(s.a)(m,2),y=g[0],E=g[1],b=function(){fetch("".concat("http://localhost:8000","/admin/user/all"),{method:"GET",headers:{authorization:o}}).then(function(e){return e.json()}).then(function(e){"GOOD"===e.status&&E(e.content)})},O=Object(r.useState)(""),j=Object(s.a)(O,2),x=j[0],L=j[1],N=Object(r.useState)(""),S=Object(s.a)(N,2),k=S[0],_=S[1],G=Object(r.useState)("REGULAR"),C=Object(s.a)(G,2),T=C[0],D=C[1],P=Object(r.useState)(""),F=Object(s.a)(P,2),I=F[0],A=F[1],U=Object(r.useState)(""),H=Object(s.a)(U,2),W=H[0],M=H[1];return Object(r.useEffect)(function(){"all-users"===l&&b()},[l]),Object(r.useEffect)(function(){b()},[]),a.a.createElement(f.a,{className:"users-controls"},a.a.createElement(R.a,{className:"view-controls"},a.a.createElement(Y.a,{onClick:function(e){return u("all-users")}},a.a.createElement(d.a,{color:"primary",variant:"h6"}," All Users ")),a.a.createElement(w.a,null),a.a.createElement(Y.a,{onClick:function(e){return u("create-user")}},a.a.createElement(d.a,{color:"primary",variant:"h6"}," Create new User "))),a.a.createElement(f.a,{className:"body overflow-scroll"},a.a.createElement(f.a,{className:"flex-col-gap"},"all-users"===l&&Object.keys(y).map(function(e){return a.a.createElement(re,{key:e,userData:y[e]})}),"create-user"===l&&a.a.createElement(f.a,{className:"create-user flex-col-gap"},a.a.createElement(d.a,{variant:"h4",color:"primary"}," Create a new User "),a.a.createElement(d.a,{variant:"h6"}," Roles: "),a.a.createElement(d.a,{variant:"h6"}," - Admin: is allowed to perform CRUD operations on the databases. "),a.a.createElement(d.a,{variant:"h6"}," - Regular: is only allowed to read from the databases. "),a.a.createElement(w.a,null),a.a.createElement(f.a,{className:"flex-col-gap main-form"},a.a.createElement(p.a,{value:x,autoComplete:"off",onChange:function(e){return L(e.target.value)},label:"Username"}),a.a.createElement(p.a,{value:k,autoComplete:"off",onChange:function(e){return _(e.target.value)},label:"Password"}),a.a.createElement(J.a,null,a.a.createElement(B.a,{id:"role-label"},"Role"),a.a.createElement(V.a,{labelId:"role-label",id:"role-label",value:T,label:"Role",onChange:function(e){D(e.target.value)}},a.a.createElement(q.a,{value:"ADMIN"},"Admin"),a.a.createElement(q.a,{value:"REGULAR"},"Regular"))),a.a.createElement(f.a,{className:"flex-col-gap"},a.a.createElement(v.a,{variant:"contained",onClick:function(){return null===x||""===x?(A("Username cannot be empty/null"),void M("red")):null===k||""===k?(A("Password cannot be empty/null"),void M("red")):void fetch("".concat("http://localhost:8000","/admin/user/new"),{method:"POST",headers:{"content-type":"application/json",authorization:o},body:JSON.stringify({username:x,password:k,role:T})}).then(function(e){return e.json()}).then(function(e){"GOOD"===e.status?(A(e.message),M("green")):(A(e.message),M("red"))})}}," Create new User "),I&&a.a.createElement(d.a,{variant:"h5",className:"flex-row-gap align-center",color:W},a.a.createElement(z.a,null)," ",I)))))))}),oe=(n(125),function(e){var t=e.info,n=t.hostname,o=t.state,c=t.ip,i=t.containerName,l=new h.a,u=Object(r.useState)(l.get("read-token")),p=Object(s.a)(u,1)[0],g=Object(r.useState)(""),y=Object(s.a)(g,2),E=y[0],b=y[1],w=Object(r.useState)(""),O=Object(s.a)(w,2),j=O[0],x=O[1];return a.a.createElement(m.a,{elevation:6,className:"node flex-col-gap"},a.a.createElement(d.a,{variant:"h6",color:"primary"}," Node Hostname : ",n," "),a.a.createElement(d.a,{variant:"h6",color:"primary"}," Node Name : ",i.substr(1)," "),a.a.createElement(d.a,{variant:"h6",color:"primary"}," Node State : ",o," "),a.a.createElement(d.a,{variant:"h6",color:"primary"}," Node IP : ",c," "),a.a.createElement(f.a,{className:"flex-row-gap"},a.a.createElement(v.a,{size:"large",variant:"contained",onClick:function(){fetch("http://".concat(c,":8001/read/cache/refresh"),{method:"GET",headers:{authorization:p}}).then(function(e){return e.json()}).then(function(e){console.log(e),"GOOD"===e.status?(b(e.message),x("green"),setTimeout(function(){b(""),x("")},1500)):(b(e.message),x("red"))})}}," Refresh Cache "),E&&a.a.createElement(d.a,{color:j,variant:"h6",className:"flex-row-gap align-center"}," ",E," ")))}),ce=(n(126),function(e){var t=new h.a,n=Object(r.useState)([]),o=Object(s.a)(n,2),c=o[0],i=o[1],l=Object(r.useState)(""),u=Object(s.a)(l,2),g=u[0],y=u[1],E=Object(r.useState)(""),b=Object(s.a)(E,2),w=b[0],O=b[1],j=Object(r.useState)(""),x=Object(s.a)(j,2),L=x[0],N=x[1],S=Object(r.useState)(""),k=Object(s.a)(S,2),_=k[0],G=k[1],C=Object(r.useState)(""),T=Object(s.a)(C,2),D=T[0],P=T[1],F=Object(r.useState)(""),I=Object(s.a)(F,2),z=I[0],A=I[1],U=Object(r.useState)(3),R=Object(s.a)(U,2),Y=R[0],J=R[1];return Object(r.useEffect)(function(){fetch("".concat("http://localhost:8002","/cluster/nodes"),{method:"GET"}).then(function(e){return e.json()}).then(function(e){"GOOD"===e.status?i(e.content):(y(e.message),O("red"))})},[]),a.a.createElement(f.a,{className:"cluster flex-col-gap"},a.a.createElement(m.a,{elevation:6,className:"padding"},a.a.createElement(d.a,{variant:"h4",color:"primary"}," Nodes ")),a.a.createElement(m.a,{elevation:6,className:"padding flex-row-gap align-center"},a.a.createElement(d.a,{variant:"h5",color:"primary"}," Scale the cluster "),a.a.createElement(p.a,{variant:"outlined",color:"primary",label:"Number of Nodes",value:Y,onChange:function(e){return J(e.target.value)}}),a.a.createElement(v.a,{variant:"contained",onClick:function(){fetch("".concat("http://localhost:8002","/cluster/scale/").concat(Y),{method:"POST"}).then(function(e){return e.json()}).then(function(e){"GOOD"===e.status?(P(e.message),A("green")):(P(e.message),A("red"))})}}," Scale "),D&&a.a.createElement(d.a,{color:z}," ",D," ")),a.a.createElement(m.a,{elevation:6,className:"padding flex-row-gap align-center"},a.a.createElement(d.a,{variant:"h5",color:"primary"}," Refresh All Caches "),a.a.createElement(v.a,{variant:"contained",onClick:function(){var e=t.get("read-token");c.forEach(function(t){var n=t.ip;fetch("http://".concat(n,":8001/read/cache/refresh"),{method:"GET",headers:{authorization:e}}).then(function(e){return e.json()}).then(function(e){console.log(e),"GOOD"===e.status?(N(e.message),G("green"),setTimeout(function(){N("")},1500)):(N(e.message),G("red"))})})}}," Refresh "),L&&a.a.createElement(d.a,{color:_}," ",L," ")),c&&a.a.createElement(f.a,{className:"grid"},c.map(function(e,t){return a.a.createElement(oe,{info:e,key:t})})),g&&a.a.createElement(d.a,{variant:"h5",color:w}," ",g," "))}),ie=function(e){var t=new h.a,n=Object(r.useState)([]),o=Object(s.a)(n,2),c=o[0],i=o[1],l=Object(r.useState)(""),u=Object(s.a)(l,2),m=u[0],p=u[1],g=Object(r.useState)(!1),y=Object(s.a)(g,2),E=y[0],b=y[1],O=Object(r.useState)("database"),x=Object(s.a)(O,2),L=x[0],N=x[1],S=function(e){N(e),b(!1),p("")};return Object(r.useEffect)(function(){var e=t.get("token");e&&fetch("".concat("http://localhost:8000","/admin/database/all"),{method:"GET",headers:{authorization:e}}).then(function(e){return e.json()}).then(function(e){"GOOD"===e.status&&i(e.content)})},[]),Object(r.useEffect)(function(){var e=t.get("token");e?fetch("".concat("http://localhost:8000","/auth/user/verifyAdmin"),{method:"GET",headers:{authorization:e}}).then(function(e){return e.json()}).then(function(e){"GOOD"!==e.status&&(t.remove("token"),window.location.assign("/"))}):window.location.assign("/")},[]),a.a.createElement(f.a,{className:"dashboard"},a.a.createElement(f.a,{className:"header"},a.a.createElement(f.a,{className:"sub-header-1"},a.a.createElement(d.a,{variant:"h6"},a.a.createElement(d.a,{variant:"h6",color:"primary",component:"span"},"ATYPON")," NoSQL Dashboard"),a.a.createElement(f.a,{className:"links"},a.a.createElement(v.a,{onClick:function(){return S("database")}}," Database Controls "),a.a.createElement(v.a,{onClick:function(){return S("users")}}," Users "),a.a.createElement(v.a,{onClick:function(){return S("cluster")}}," Cluster Controls ")),a.a.createElement(f.a,{className:"logout"},a.a.createElement(v.a,{variant:"contained",size:"small",onClick:function(){t.remove("token"),t.remove("read-token"),window.location.assign("/")}}," Logout "))),a.a.createElement(w.a,null),"database"===L&&a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,{className:"sub-header-2 align-center"},a.a.createElement(d.a,{className:"flex-row align-center",variant:"h6"},a.a.createElement(j.a,{fontSize:"medium",color:"primary"})),c.map(function(e,t){return a.a.createElement(v.a,{value:e,size:"medium",key:t,onClick:function(e){return t=e.target.value,p(t),void b(!0);var t}}," ",e," ")})),a.a.createElement(w.a,null))),a.a.createElement(f.a,{className:"main-body"},"database"===L&&a.a.createElement(f.a,{className:"create-database-wrapper"},!E&&a.a.createElement(ne,null),E&&a.a.createElement(ee,{databaseName:m})),"cluster"===L&&a.a.createElement(ce,null),"users"===L&&a.a.createElement(ae,null)))};n(127);var le=function(){return a.a.createElement(i.a,null,a.a.createElement(l.c,null,a.a.createElement(l.a,{exact:!0,path:"/",element:a.a.createElement(y,null)}),a.a.createElement(l.a,{exact:!0,path:"/creds",element:a.a.createElement(b,null)}),a.a.createElement(l.a,{exact:!0,path:"/dashboard",element:a.a.createElement(ie,null)})))};c.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(le,null)))}},[[101,1,2]]]);
//# sourceMappingURL=main.fc9593ca.chunk.js.map